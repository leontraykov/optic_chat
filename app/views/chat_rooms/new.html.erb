<div class="container mt-4">
  <p class="fs-2">New Chat Room</p>

  <%= form_with model: @chat_room, local: true do |form| %>
    <%= render partial: 'partials/form_errors', locals: {model: @chat_room} %>

    <div class="mb-3">
      <%= form.label :name, "Name", class: "form-label" %>
      <%= form.text_field :name, id: :chat_room_name, class: "form-control" %>
    </div>

    <div class="mb-3">
      <%= form.label :user_ids, "Choose Participants:", class: "form-label" %>
      <div class="form-text text-light mb-2">Use Ctrl and click for multiple selection</div>
      <%= form.collection_select :user_ids, @users, :id, :name, {}, { multiple: true, class: "form-select", data: { controller: "select-users", target: "select-users.select", action: "change->select-users#updateChosen" } } %>
      <div data-select-users-target="chosen" class="mt-3"></div>
    </div>

    <div class="actions">
      <%= form.submit "Create", class: "btn btn-outline-warning mx-2" %>
      <%= link_to "Cancel", :back, class:"btn btn-outline-secondary" %>
    </div>
  <% end %>
</div>
